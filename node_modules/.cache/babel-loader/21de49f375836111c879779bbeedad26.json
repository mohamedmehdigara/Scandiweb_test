{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\p-c\\\\Downloads\\\\Github\\\\Scandiweb_test\\\\src\\\\components\\\\ItemsAmount\\\\ItemsAmount.js\";\nimport React from 'react';\nimport './ItemsAmount.css';\nimport cartStore from '../../redux/CartState';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ItemsAmount extends React.Component {\n  constructor(props) {\n    super(props);\n    this.quantityHanlder = this.quantityHanlder.bind(this);\n    this.removeItem = this.removeItem.bind(this);\n    this.findSimilar = this.findSimilar.bind(this);\n  }\n\n  quantityHanlder(type, attrs, name) {\n    if (type === 'plus') {\n      cartStore.dispatch({\n        type: 'INCREMENT',\n        payload: this.findSimilar(attrs, name)\n      });\n    }\n\n    if (type === 'minus' && cartStore.getState().cartItems[this.findSimilar(this.props.item.pickedAttrs, name)].itemCount === 1) {\n      this.removeItem([attrs, name]);\n    }\n\n    if (type === 'minus') {\n      cartStore.dispatch({\n        type: 'DECREMENT',\n        payload: this.findSimilar(attrs, name)\n      });\n    }\n  }\n\n  findSimilar(attrs, name) {\n    let k = null;\n    cartStore.getState().cartItems.forEach((element, index) => {\n      if (element.pickedAttrs === attrs && element.name === name) {\n        k = index;\n      }\n    });\n    return k;\n  }\n\n  removeItem(attrs) {\n    cartStore.dispatch({\n      type: 'REMOVE_PRODUCT',\n      payload: attrs\n    });\n  }\n\n  render() {\n    const attrs = this.props.item.pickedAttrs;\n    const name = this.props.item.name;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"items-amount\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          this.quantityHanlder('plus', attrs, name);\n        },\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: this.props.item.itemCount\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          this.quantityHanlder('minus', attrs, name);\n        },\n        children: \"-\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default ItemsAmount;","map":{"version":3,"names":["React","cartStore","ItemsAmount","Component","constructor","props","quantityHanlder","bind","removeItem","findSimilar","type","attrs","name","dispatch","payload","getState","cartItems","item","pickedAttrs","itemCount","k","forEach","element","index","render"],"sources":["C:/Users/p-c/Downloads/Github/Scandiweb_test/src/components/ItemsAmount/ItemsAmount.js"],"sourcesContent":["import React from 'react'\r\nimport './ItemsAmount.css'\r\nimport cartStore from '../../redux/CartState'\r\n\r\nclass ItemsAmount extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.quantityHanlder = this.quantityHanlder.bind(this)\r\n    this.removeItem = this.removeItem.bind(this)\r\n    this.findSimilar = this.findSimilar.bind(this)\r\n  }\r\n\r\n  quantityHanlder (type, attrs, name) {\r\n    if (type === 'plus') {\r\n      cartStore.dispatch({ type: 'INCREMENT', payload: this.findSimilar(attrs, name) })\r\n    }\r\n    if (type === 'minus' &&\r\n    cartStore.getState().cartItems[this.findSimilar(this.props.item.pickedAttrs, name)].itemCount === 1) {\r\n      this.removeItem([attrs, name])\r\n    }\r\n    if (type === 'minus') {\r\n      cartStore.dispatch({ type: 'DECREMENT', payload: this.findSimilar(attrs, name) })\r\n    }\r\n  }\r\n\r\n  findSimilar (attrs, name) {\r\n    let k = null\r\n    cartStore.getState().cartItems.forEach((element, index) => {\r\n      if ((element.pickedAttrs === attrs) && element.name === name) {\r\n        k = index\r\n      }\r\n    })\r\n    return k\r\n  }\r\n\r\n  removeItem (attrs) {\r\n    cartStore.dispatch({ type: 'REMOVE_PRODUCT', payload: attrs })\r\n  }\r\n\r\n  render () {\r\n    const attrs = this.props.item.pickedAttrs\r\n    const name = this.props.item.name\r\n    return (\r\n      <div className=\"items-amount\">\r\n        <button onClick={() => { this.quantityHanlder('plus', attrs, name) }}>+</button>\r\n        <p>{this.props.item.itemCount}</p>\r\n        <button onClick={() => { this.quantityHanlder('minus', attrs, name) }}>-</button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ItemsAmount\r\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,mBAAP;AACA,OAAOC,SAAP,MAAsB,uBAAtB;;;AAEA,MAAMC,WAAN,SAA0BF,KAAK,CAACG,SAAhC,CAA0C;EACxCC,WAAW,CAAEC,KAAF,EAAS;IAClB,MAAMA,KAAN;IACA,KAAKC,eAAL,GAAuB,KAAKA,eAAL,CAAqBC,IAArB,CAA0B,IAA1B,CAAvB;IACA,KAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBD,IAAhB,CAAqB,IAArB,CAAlB;IACA,KAAKE,WAAL,GAAmB,KAAKA,WAAL,CAAiBF,IAAjB,CAAsB,IAAtB,CAAnB;EACD;;EAEDD,eAAe,CAAEI,IAAF,EAAQC,KAAR,EAAeC,IAAf,EAAqB;IAClC,IAAIF,IAAI,KAAK,MAAb,EAAqB;MACnBT,SAAS,CAACY,QAAV,CAAmB;QAAEH,IAAI,EAAE,WAAR;QAAqBI,OAAO,EAAE,KAAKL,WAAL,CAAiBE,KAAjB,EAAwBC,IAAxB;MAA9B,CAAnB;IACD;;IACD,IAAIF,IAAI,KAAK,OAAT,IACJT,SAAS,CAACc,QAAV,GAAqBC,SAArB,CAA+B,KAAKP,WAAL,CAAiB,KAAKJ,KAAL,CAAWY,IAAX,CAAgBC,WAAjC,EAA8CN,IAA9C,CAA/B,EAAoFO,SAApF,KAAkG,CADlG,EACqG;MACnG,KAAKX,UAAL,CAAgB,CAACG,KAAD,EAAQC,IAAR,CAAhB;IACD;;IACD,IAAIF,IAAI,KAAK,OAAb,EAAsB;MACpBT,SAAS,CAACY,QAAV,CAAmB;QAAEH,IAAI,EAAE,WAAR;QAAqBI,OAAO,EAAE,KAAKL,WAAL,CAAiBE,KAAjB,EAAwBC,IAAxB;MAA9B,CAAnB;IACD;EACF;;EAEDH,WAAW,CAAEE,KAAF,EAASC,IAAT,EAAe;IACxB,IAAIQ,CAAC,GAAG,IAAR;IACAnB,SAAS,CAACc,QAAV,GAAqBC,SAArB,CAA+BK,OAA/B,CAAuC,CAACC,OAAD,EAAUC,KAAV,KAAoB;MACzD,IAAKD,OAAO,CAACJ,WAAR,KAAwBP,KAAzB,IAAmCW,OAAO,CAACV,IAAR,KAAiBA,IAAxD,EAA8D;QAC5DQ,CAAC,GAAGG,KAAJ;MACD;IACF,CAJD;IAKA,OAAOH,CAAP;EACD;;EAEDZ,UAAU,CAAEG,KAAF,EAAS;IACjBV,SAAS,CAACY,QAAV,CAAmB;MAAEH,IAAI,EAAE,gBAAR;MAA0BI,OAAO,EAAEH;IAAnC,CAAnB;EACD;;EAEDa,MAAM,GAAI;IACR,MAAMb,KAAK,GAAG,KAAKN,KAAL,CAAWY,IAAX,CAAgBC,WAA9B;IACA,MAAMN,IAAI,GAAG,KAAKP,KAAL,CAAWY,IAAX,CAAgBL,IAA7B;IACA,oBACE;MAAK,SAAS,EAAC,cAAf;MAAA,wBACE;QAAQ,OAAO,EAAE,MAAM;UAAE,KAAKN,eAAL,CAAqB,MAArB,EAA6BK,KAA7B,EAAoCC,IAApC;QAA2C,CAApE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAA,UAAI,KAAKP,KAAL,CAAWY,IAAX,CAAgBE;MAApB;QAAA;QAAA;QAAA;MAAA,QAFF,eAGE;QAAQ,OAAO,EAAE,MAAM;UAAE,KAAKb,eAAL,CAAqB,OAArB,EAA8BK,KAA9B,EAAqCC,IAArC;QAA4C,CAArE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAHF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EAOD;;AA7CuC;;AAgD1C,eAAeV,WAAf"},"metadata":{},"sourceType":"module"}